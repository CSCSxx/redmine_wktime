<h2><%= l(:label_ledger) %></h2>
<% wkexpense_helper = Object.new.extend(WkexpenseHelper) %>
<% wkaccounting_helper = Object.new.extend(WkaccountingHelper) %>
<% ledgerType = wkaccounting_helper.getLedgerTypeHash %>
<div class="autoscroll">
<%= form_tag({:controller => controller_name, :action => 'update'}, :method => :get, :id => 'query_form') do %>
	<fieldset class="box tabular" >
		<legend><%= l(:label_ledger) + " " +  l(:label_information) %></legend>	
		<%=h hidden_field_tag('ledger_id', @ledgersDetail[0].blank? ? "" : @ledgersDetail[0].id) %>
		<table >
			<tr>
				<th align="left"><%= l(:field_name) %></th>
				<td align="left" style="padding-left:40px;"><%=h text_field_tag("name", (@ledgersDetail[0].blank? ? "" : @ledgersDetail[0].name),:size => 20) %> </td>
			</tr>
			<tr>
				<th align="left"><%= l(:label_type) %></th>
				<td align="left" style="padding-left:40px;">
					<%=h select_tag("ledger_type", options_for_select(ledgerType.invert,:selected => (@ledgersDetail[0].blank? ? "" : @ledgersDetail[0].ledger_type) ), :style => "width:200px; float:left;") %>
				</td>			   
			</tr>
			<tr>
				<th align="left"><%= l(:label_wk_currency) %></th>
				<td align="left" style="padding-left:40px;"><%=h select_tag("currency",options_for_select(wkexpense_helper.options_for_currency, :selected => (@ledgersDetail[0].blank? ? wkexpense_helper.options_for_currency : @ledgersDetail[0].currency) )) %></td>
			</tr>
			
			<tr>
				<th align="left"><%= l(:wk_label_opening) + " " + l(:wk_field_balance)  %></th>
				<td align="left" style="padding-left:40px;"><%=h text_field_tag("opening_balance", (@ledgersDetail[0].blank? ? "" : @ledgersDetail[0].opening_balance),:size => 20, :maxlength => 14) %> </td>			   
			</tr>
		</table>	
	</fieldset>
<%= submit_tag l(:button_save), :class => "small", :name => nil %>
<% end %>
</div>